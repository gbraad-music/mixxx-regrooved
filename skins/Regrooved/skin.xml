<skin>
  <manifest>
    <title>Regrooved</title>
    <author>Gerard Braad (me@gbraad.nl)</author>
    <version>1.0.0</version>
    <description>A touch-friendly minimal skin with a compact deck layout. Made for use with htttps://music.gbraad.nl/meister and the DJ Decks scene</description>
    <license>CC BY-SA 4.0</license>
    <attributes>
      <attribute config_key="[App],num_decks">2</attribute>
      <attribute config_key="[App],num_samplers">8</attribute>
      <attribute persist="true" config_key="[Tab],current">overview</attribute>
      <attribute persist="true" config_key="[Master],show_extended_controls">0</attribute>
      <attribute persist="true" config_key="[Master],show_single_deck">0</attribute>
      <attribute persist="true" config_key="[Master],horizontal_dual_deck">0</attribute>
      <attribute persist="true" config_key="[Deck],current_deck">1</attribute>
      <attribute config_key="[Deck],show_deck_a">1</attribute>
      <attribute config_key="[Deck],show_deck_b">0</attribute>
    </attributes>
  </manifest>

  <ObjectName>Mixxx</ObjectName>
  <Style src="skin:style.qss"/>
  <MinimumSize>640,480</MinimumSize>
  <SizePolicy>me,me</SizePolicy>
  <Layout>vertical</Layout>

  <Children>

    <!-- Top Bar -->
    <WidgetGroup>
      <ObjectName>TopBar</ObjectName>
      <Layout>horizontal</Layout>
      <SizePolicy>me,min</SizePolicy>
      <MinimumSize>-1,40</MinimumSize>
      <MaximumSize>-1,40</MaximumSize>
      <Children>

        <Label>
          <ObjectName>AppTitle</ObjectName>
          <Text>REGROOVED</Text>
          <Alignment>left</Alignment>
          <SizePolicy>min,min</SizePolicy>
        </Label>

        <WidgetGroup><SizePolicy>me,min</SizePolicy></WidgetGroup>

        <!-- Single/Dual Deck Toggle -->
        <PushButton>
          <ObjectName>ToggleDeckModeButton</ObjectName>
          <Size>80,30</Size>
          <NumberStates>2</NumberStates>
          <State>
            <Number>0</Number>
            <Text>2 DECKS</Text>
          </State>
          <State>
            <Number>1</Number>
            <Text>1 DECK</Text>
          </State>
          <Connection>
            <ConfigKey>[Master],show_single_deck</ConfigKey>
            <EmitOnDownPress>true</EmitOnDownPress>
            <ButtonState>LeftButton</ButtonState>
          </Connection>
        </PushButton>

        <!-- Extended Controls Toggle -->
        <PushButton>
          <ObjectName>ToggleExtendedButton</ObjectName>
          <Size>80,30</Size>
          <NumberStates>2</NumberStates>
          <State>
            <Number>0</Number>
            <Text>EXPAND</Text>
          </State>
          <State>
            <Number>1</Number>
            <Text>HIDE</Text>
          </State>
          <Connection>
            <ConfigKey>[Master],show_extended_controls</ConfigKey>
            <EmitOnDownPress>true</EmitOnDownPress>
            <ButtonState>LeftButton</ButtonState>
          </Connection>
        </PushButton>

        <!-- Deck A+B Button (visible in dual deck mode) -->
        <PushButton>
          <ObjectName>ShowBothDecksButton</ObjectName>
          <Size>90,30</Size>
          <NumberStates>2</NumberStates>
          <State>
            <Number>0</Number>
            <Text>DECK A+B</Text>
          </State>
          <State>
            <Number>1</Number>
            <Text>DECK A+B</Text>
          </State>
          <Connection>
            <ConfigKey>[Tab],overview</ConfigKey>
            <BindProperty>value</BindProperty>
          </Connection>
          <Connection>
            <ConfigKey>[Tab],overview</ConfigKey>
            <ButtonState>LeftButton</ButtonState>
          </Connection>
          <Connection>
            <ConfigKey>[Master],show_single_deck</ConfigKey>
            <BindProperty>visible</BindProperty>
            <Transform><Not/></Transform>
          </Connection>
        </PushButton>

        <!-- Horizontal/Vertical Layout Toggle (visible in dual deck mode) -->
        <PushButton>
          <ObjectName>ToggleLayoutButton</ObjectName>
          <Size>90,30</Size>
          <NumberStates>2</NumberStates>
          <State>
            <Number>0</Number>
            <Text>STACKED</Text>
          </State>
          <State>
            <Number>1</Number>
            <Text>SIDE BY SIDE</Text>
          </State>
          <Connection>
            <ConfigKey>[Master],horizontal_dual_deck</ConfigKey>
            <BindProperty>value</BindProperty>
          </Connection>
          <Connection>
            <ConfigKey>[Master],horizontal_dual_deck</ConfigKey>
            <EmitOnDownPress>true</EmitOnDownPress>
            <ButtonState>LeftButton</ButtonState>
          </Connection>
          <Connection>
            <ConfigKey>[Master],show_single_deck</ConfigKey>
            <BindProperty>visible</BindProperty>
            <Transform><Not/></Transform>
          </Connection>
        </PushButton>

        <!-- Deck A Button (visible only in single deck mode) -->
        <PushButton>
          <ObjectName>ShowDeckAButton</ObjectName>
          <Size>80,30</Size>
          <NumberStates>2</NumberStates>
          <State>
            <Number>0</Number>
            <Text>DECK A</Text>
          </State>
          <State>
            <Number>1</Number>
            <Text>DECK A</Text>
          </State>
          <Connection>
            <ConfigKey>[Deck],current_deck</ConfigKey>
            <BindProperty>value</BindProperty>
          </Connection>
          <Connection>
            <ConfigKey>[Deck],deck_a</ConfigKey>
            <EmitOnDownPress>true</EmitOnDownPress>
            <ButtonState>LeftButton</ButtonState>
          </Connection>
          <Connection>
            <ConfigKey>[Master],show_single_deck</ConfigKey>
            <BindProperty>visible</BindProperty>
          </Connection>
        </PushButton>

        <!-- Deck B Button (visible only in single deck mode) -->
        <PushButton>
          <ObjectName>ShowDeckBButton</ObjectName>
          <Size>80,30</Size>
          <NumberStates>2</NumberStates>
          <State>
            <Number>0</Number>
            <Text>DECK B</Text>
          </State>
          <State>
            <Number>1</Number>
            <Text>DECK B</Text>
          </State>
          <Connection>
            <ConfigKey>[Deck],current_deck</ConfigKey>
            <BindProperty>value</BindProperty>
            <Transform><Not/></Transform>
          </Connection>
          <Connection>
            <ConfigKey>[Deck],deck_b</ConfigKey>
            <EmitOnDownPress>true</EmitOnDownPress>
            <ButtonState>LeftButton</ButtonState>
          </Connection>
          <Connection>
            <ConfigKey>[Master],show_single_deck</ConfigKey>
            <BindProperty>visible</BindProperty>
          </Connection>
        </PushButton>

        <!-- Library Button -->
        <PushButton>
          <ObjectName>ShowLibraryButton</ObjectName>
          <Size>80,30</Size>
          <NumberStates>2</NumberStates>
          <State>
            <Number>0</Number>
            <Text>LIBRARY</Text>
          </State>
          <State>
            <Number>1</Number>
            <Text>LIBRARY</Text>
          </State>
          <Connection>
            <ConfigKey>[Tab],library</ConfigKey>
            <BindProperty>value</BindProperty>
          </Connection>
          <Connection>
            <ConfigKey>[Tab],library</ConfigKey>
          </Connection>
        </PushButton>

      </Children>
    </WidgetGroup>

    <!-- View Switcher -->
    <WidgetStack currentpage="[Tab],current">
      <SizePolicy>me,me</SizePolicy>
      <Children>

        <!-- Overview -->
        <WidgetGroup trigger="[Tab],overview">
          <ObjectName>WaveformView</ObjectName>
          <Layout>vertical</Layout>
          <SizePolicy>me,me</SizePolicy>
          <Children>

            <!-- Dual Deck View (visible when show_single_deck=0) -->
            <WidgetStack currentpage="[Master],horizontal_dual_deck">
              <SizePolicy>me,me</SizePolicy>
              <Connection>
                <ConfigKey>[Master],show_single_deck</ConfigKey>
                <BindProperty>visible</BindProperty>
                <Transform><Not/></Transform>
              </Connection>
              <Children>

                <!-- Stacked/Vertical Layout (trigger=0) -->
                <WidgetGroup trigger="0">
                  <Layout>vertical</Layout>
                  <SizePolicy>me,me</SizePolicy>
                  <Children>

                    <!-- Deck A Row -->
                    <Template src="skin:deck.xml">
                      <SetVariable name="DeckNum">1</SetVariable>
                      <SetVariable name="DeckLetter">A</SetVariable>
                      <SetVariable name="SignalColor">#4080FF</SetVariable>
                      <SetVariable name="SignalLowColor">#0040A0</SetVariable>
                      <SetVariable name="SignalHighColor">#80C0FF</SetVariable>
                    </Template>

                    <!-- Crossfader (between decks, visible when expanded) -->
                    <WidgetGroup>
                      <ObjectName>CrossfaderSection</ObjectName>
                      <Layout>horizontal</Layout>
                      <SizePolicy>me,min</SizePolicy>
                      <MinimumSize>-1,35</MinimumSize>
                      <Connection>
                        <ConfigKey>[Master],show_extended_controls</ConfigKey>
                        <BindProperty>visible</BindProperty>
                      </Connection>
                      <Children>
                        <WidgetGroup><SizePolicy>me,min</SizePolicy></WidgetGroup>
                        <Label>
                          <ObjectName>MixerKnobLabel</ObjectName>
                          <Text>X-FADE</Text>
                          <Alignment>right</Alignment>
                          <MinimumSize>60,-1</MinimumSize>
                          <SizePolicy>min,min</SizePolicy>
                        </Label>
                        <SliderComposed>
                          <ObjectName>Crossfader</ObjectName>
                          <Horizontal>true</Horizontal>
                          <Size>200,24</Size>
                          <Slider>skin:images/crossfader_background.svg</Slider>
                          <Handle>skin:images/crossfader_handle.svg</Handle>
                          <Connection>
                            <ConfigKey>[Master],crossfader</ConfigKey>
                          </Connection>
                        </SliderComposed>
                        <WidgetGroup><SizePolicy>min,min</SizePolicy><MinimumSize>20,-1</MinimumSize></WidgetGroup>
                      </Children>
                    </WidgetGroup>

                    <!-- Deck B Row -->
                    <Template src="skin:deck.xml">
                      <SetVariable name="DeckNum">2</SetVariable>
                      <SetVariable name="DeckLetter">B</SetVariable>
                      <SetVariable name="SignalColor">#FF4080</SetVariable>
                      <SetVariable name="SignalLowColor">#A00040</SetVariable>
                      <SetVariable name="SignalHighColor">#FF80C0</SetVariable>
                    </Template>

                  </Children>
                </WidgetGroup>

                <!-- Side-by-Side/Horizontal Layout (trigger=1) -->
                <WidgetGroup trigger="1">
                  <Layout>horizontal</Layout>
                  <SizePolicy>me,me</SizePolicy>
                  <Children>

                    <!-- Deck A Column -->
                    <Template src="skin:deck.xml">
                      <SetVariable name="DeckNum">1</SetVariable>
                      <SetVariable name="DeckLetter">A</SetVariable>
                      <SetVariable name="SignalColor">#4080FF</SetVariable>
                      <SetVariable name="SignalLowColor">#0040A0</SetVariable>
                      <SetVariable name="SignalHighColor">#80C0FF</SetVariable>
                    </Template>

                    <!-- Crossfader (vertical, between decks, visible when expanded) -->
                    <WidgetGroup>
                      <ObjectName>CrossfaderSectionVertical</ObjectName>
                      <Layout>vertical</Layout>
                      <SizePolicy>min,me</SizePolicy>
                      <MinimumSize>50,-1</MinimumSize>
                      <Connection>
                        <ConfigKey>[Master],show_extended_controls</ConfigKey>
                        <BindProperty>visible</BindProperty>
                      </Connection>
                      <Children>
                        <WidgetGroup><SizePolicy>min,me</SizePolicy></WidgetGroup>
                        <Label>
                          <ObjectName>MixerKnobLabel</ObjectName>
                          <Text>X-FADE</Text>
                          <Alignment>center</Alignment>
                          <SizePolicy>min,min</SizePolicy>
                        </Label>
                        <SliderComposed>
                          <ObjectName>Crossfader</ObjectName>
                          <Horizontal>true</Horizontal>
                          <Size>200,24</Size>
                          <Slider>skin:images/crossfader_background.svg</Slider>
                          <Handle>skin:images/crossfader_handle.svg</Handle>
                          <Connection>
                            <ConfigKey>[Master],crossfader</ConfigKey>
                          </Connection>
                        </SliderComposed>
                        <WidgetGroup><SizePolicy>min,me</SizePolicy></WidgetGroup>
                      </Children>
                    </WidgetGroup>

                    <!-- Deck B Column -->
                    <Template src="skin:deck.xml">
                      <SetVariable name="DeckNum">2</SetVariable>
                      <SetVariable name="DeckLetter">B</SetVariable>
                      <SetVariable name="SignalColor">#FF4080</SetVariable>
                      <SetVariable name="SignalLowColor">#A00040</SetVariable>
                      <SetVariable name="SignalHighColor">#FF80C0</SetVariable>
                    </Template>

                  </Children>
                </WidgetGroup>

              </Children>
            </WidgetStack>

            <!-- Single Deck View (visible when show_single_deck=1) -->
            <WidgetStack currentpage="[Deck],current_deck">
              <SizePolicy>me,me</SizePolicy>
              <Connection>
                <ConfigKey>[Master],show_single_deck</ConfigKey>
                <BindProperty>visible</BindProperty>
              </Connection>
              <Children>

                <!-- Deck A (trigger=1) -->
                <WidgetGroup trigger="[Deck],deck_a">
                  <Layout>vertical</Layout>
                  <SizePolicy>me,me</SizePolicy>
                  <Children>
                    <Template src="skin:deck.xml">
                      <SetVariable name="DeckNum">1</SetVariable>
                      <SetVariable name="DeckLetter">A</SetVariable>
                      <SetVariable name="SignalColor">#4080FF</SetVariable>
                      <SetVariable name="SignalLowColor">#0040A0</SetVariable>
                      <SetVariable name="SignalHighColor">#80C0FF</SetVariable>
                    </Template>
                  </Children>
                </WidgetGroup>

                <!-- Deck B (trigger=1) -->
                <WidgetGroup trigger="[Deck],deck_b">
                  <Layout>vertical</Layout>
                  <SizePolicy>me,me</SizePolicy>
                  <Children>
                    <Template src="skin:deck.xml">
                      <SetVariable name="DeckNum">2</SetVariable>
                      <SetVariable name="DeckLetter">B</SetVariable>
                      <SetVariable name="SignalColor">#FF4080</SetVariable>
                      <SetVariable name="SignalLowColor">#A00040</SetVariable>
                      <SetVariable name="SignalHighColor">#FF80C0</SetVariable>
                    </Template>
                  </Children>
                </WidgetGroup>

              </Children>
            </WidgetStack>

          </Children>
        </WidgetGroup>

        <!-- Library View -->
        <WidgetGroup trigger="[Tab],library">
          <ObjectName>LibraryContainer</ObjectName>
          <Layout>vertical</Layout>
          <SizePolicy>me,me</SizePolicy>
          <Children>

            <Library>
              <ObjectName>LibraryWidget</ObjectName>
              <SizePolicy>me,me</SizePolicy>
            </Library>

            <!-- Load Buttons Bar -->
            <WidgetGroup>
              <ObjectName>LibraryLoadBar</ObjectName>
              <Layout>horizontal</Layout>
              <SizePolicy>me,min</SizePolicy>
              <MinimumSize>-1,60</MinimumSize>
              <MaximumSize>-1,60</MaximumSize>
              <Children>
                <PushButton>
                  <ObjectName>LoadToDeckAButton</ObjectName>
                  <MinimumSize>200,50</MinimumSize>
                  <SizePolicy>me,min</SizePolicy>
                  <NumberStates>1</NumberStates>
                  <State>
                    <Number>0</Number>
                    <Text>LOAD TO DECK A</Text>
                  </State>
                  <Connection>
                    <ConfigKey>[Channel1],LoadSelectedTrack</ConfigKey>
                    <ButtonState>LeftButton</ButtonState>
                  </Connection>
                </PushButton>
                <PushButton>
                  <ObjectName>LoadToDeckBButton</ObjectName>
                  <MinimumSize>200,50</MinimumSize>
                  <SizePolicy>me,min</SizePolicy>
                  <NumberStates>1</NumberStates>
                  <State>
                    <Number>0</Number>
                    <Text>LOAD TO DECK B</Text>
                  </State>
                  <Connection>
                    <ConfigKey>[Channel2],LoadSelectedTrack</ConfigKey>
                    <ButtonState>LeftButton</ButtonState>
                  </Connection>
                </PushButton>
              </Children>
            </WidgetGroup>

          </Children>
        </WidgetGroup>

      </Children>
    </WidgetStack>

  </Children>
</skin>
